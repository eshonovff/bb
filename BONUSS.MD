# Навъи додаҳои аломат (Тип данных Symbol)
Тибқи мушаххасот, танҳо сатрҳо ё аломатҳо метавонанд ҳамчун калид барои хосиятҳои объект истифода шаванд. На рақамҳо ва на логикӣ қобили қабул нестанд, танҳо ин ду намуди додаҳо иҷозат дода мешаванд.

То ҳол мо танҳо сатрҳоро дидем. Акнун биёед ба рамзҳо назар андозем ва бубинем, ки онҳо ба мо чӣ фоидае медиҳанд.

# Символҳо

"Символ" идентификатори беназирро ифода мекунад.

Бо истифода аз функсияи Symbol() аломатҳои нав сохта мешаванд:
```js
// Создаём новый символ - id
let id = Symbol();
```
Ҳангоми сохтан, рамз метавонад тавсиф дода шавад (инчунин ном номида мешавад), ки асосан барои ислоҳи код истифода мешавад:
```JS
// Создаём символ id с описанием (именем) "id"
let id = Symbol("id");
```
Рамзҳо кафолат дода мешаванд, ки беназир бошанд. Ҳатто агар мо рамзҳои зиёдеро бо як тавсиф созем, онҳо ба ҳар ҳол рамзҳои гуногун хоҳанд буд. Тавсиф танҳо нишонаест, ки ба ҳеҷ чиз таъсир намекунад.

Масалан, дар ин ҷо ду аломат бо тавсифи якхела мавҷуданд, аммо онҳо баробар нестанд:
```JS
let id1 = Symbol("id");
let id2 = Symbol("id");

alert(id1 == id2); // false
```
Агар шумо Ruby ё ягон забони дигари барномасозиро донед, ки дорои як навъ "рамзҳо" аст - лутфан эҳтиёт шавед. Аломатҳо дар JavaScript хусусиятҳои худро доранд ва дар бораи онҳо ҳамон тавре ки рамзҳо дар Ruby ё забонҳои дигар фикр накунед.

# Аломатҳо ба таври худкор ба сатр табдил дода намешаванд

Аксари намудҳои маълумот дар JavaScript метавонанд ба таври ғайримустақим ба сатр табдил дода шаванд. Масалан, функсия alertқариб ҳама гуна арзишҳоро мегирад, ба таври худкор онро ба сатр табдил медиҳад ва сипас ин арзишро бидуни гузориш дар бораи хато чоп мекунад. Рамзҳо махсусанд ва ба таври худкор табдил дода намешаванд.

Масалан, alertинҳо хатогиро ба вуҷуд меоранд:
```JS 
let id = Symbol("id");
alert(id); // TypeError: Cannot convert a Symbol value to a string
```
Ин "ҳимоя"-и забон аз иштибоҳ аст, зеро сатрҳо ва аломатҳо намудҳои гуногуни маълумот мебошанд ва набояд ба таври беназорат ба ҳамдигар табдил дода шаванд.

Агар мо воқеан хоҳем, ки аломатеро бо истифода аз - бароварданӣ кунем alert, пас мо бояд онро бо истифода аз метод ба таври возеҳ табдил диҳем .toString(), масалан:
```JS 
let id = Symbol("id");
alert(id.toString()); // Symbol(id), теперь работает
```
Ё мо метавонем ба амвол symbol.descriptionбарои чоп танҳо тавсиф дастрасӣ пайдо кунем:
```JS 
let id = Symbol("id");
alert(id.description); // id
```
# Хусусиятҳои "пинҳон"
Аломатҳо ба шумо имкон медиҳанд, ки хосиятҳои "пинҳон"-и объектҳоеро эҷод кунед, ки онҳоро аз қисмҳои дигари барнома тасодуфан дастрас кардан ва аз нав навиштан мумкин нест.

Масалан, мо бо объектҳое кор мекунем user, ки ба рамзи тарафи сеюм тааллуқ доранд. Мо мехоҳем ба онҳо ID илова кунем.

Барои ин мо калиди рамзӣ истифода мебарем:

```JS 
let user = {
  name: "Вася"
};

let id = Symbol("id");

user[id] = 1;

alert( user[id] ); // мы можем получить доступ к данным по ключу-символу
```
Чаро истифода Symbol("id")аз сатр беҳтар аст "id"?

Азбаски объект userба рамзи тарафи сеюм тааллуқ дорад ва ин код низ бо он кор мекунад, мо набояд ба он ягон майдон илова кунем. Ин бехатар нест. Аммо тасодуфан дастрасии рамз душвор аст, рамзи тарафи сеюм гумон аст, ки онро тамоман бубинад ва ба эҳтимоли зиёд илова кардани майдон ба объект ягон мушкилотро ба бор намеорад.

Илова бар ин, фарз кунем, ки скрипти дигар барои баъзе мақсадҳои худ мехоҳад идентификатори худро ба объект нависад user. Ин скрипт метавонад як навъ китобхонаи JavaScript бошад, ки ба скрипти мо комилан иртибот надорад.

Рамзи тарафи сеюм метавонад рамзи худро барои ин эҷод кунад Symbol("id"):
```JS 
// ...
let id = Symbol("id");

user[id] = "Их идентификатор";
```
Байни идентификатори онҳо ва мо ҳеҷ ихтилофе нахоҳад дошт, зеро ҳарфҳо ҳамеша беназиранд, ҳатто агар номашон якхела бошад.

"id"Аммо агар мо ба ҷои рамз сатрро истифода барем , он гоҳ ихтилоф ба миён меояд :
```JS 
let user = { name: "Вася" };

// Объявляем в нашем скрипте свойство "id"
user.id = "Наш идентификатор";

// ...другой скрипт тоже хочет свой идентификатор...

user.id = "Их идентификатор"
// Ой! Свойство перезаписано сторонней библиотекой!
```
# Аломатҳо дар объекти аслӣ
Агар мо хоҳем, ки аломатро дар эъломияи аслии объект истифода барем {...}, он бояд дар қавси мураббаъ дохил карда шавад.

Монанди ин:
```js 
let id = Symbol("id");

let user = {
  name: "Вася",
  [id]: 123 // просто "id: 123" не сработает
};
```
Сабаб дар он аст, ки мо бояд арзиши тағирёбандаро idҳамчун калид истифода барем, на сатри "id".

# Аломатҳое, ки аз ҷониби loop-и for…in  нодида гирифта шудаанд
Хусусиятҳое, ки калидҳояшон рамзҳо мебошанд, тавассути давра такрор карда намешаванд for..in.

Барои намуна:

```js
let id = Symbol("id");
let user = {
  name: "Вася",
  age: 30,
  [id]: 123
};

for (let key in user) alert(key); // name, age (свойства с ключом-символом нет среди перечисленных)

// хотя прямой доступ по символу работает
alert( "Напрямую: " + user[id] );
```
Ин як қисми принсипи умумии "пинҳон кардани моликияти рамзӣ" мебошад. Агар китобхона ё скрипти дигар бо объекти мо кор кунад, пас ҳангоми такрори он онҳо нохост моликияти рамзии моро қабул намекунанд. Object.keys(user)характерхоро низ нодида мегирад.

Аммо Object.assign , бар хилофи цикл for..in, ҳам хосиятҳои сатр ва ҳам аломатро нусхабардорӣ мекунад:
```js 
let id = Symbol("id");
let user = {
  [id]: 123
};

let clone = Object.assign({}, user);

alert( clone[id] ); // 123
```
Дар ин ҷо ягон парадокс ё зиддият вуҷуд надорад. Ҳамин тавр пешбинӣ шуда буд. Идея ин аст, ки вақте ки мо объектҳоро клон мекунем ё якҷоя мекунем, мо одатан мехоҳем ҳамаи хосиятҳоро нусхабардорӣ кунем (аз ҷумла хосиятҳо бо калидҳои рамзӣ, масалан idдар мисоли боло).

